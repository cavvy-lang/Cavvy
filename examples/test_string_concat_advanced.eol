// 测试高级字符串拼接（强类型：只允许 string + string）
class TestStringConcatAdvanced {
    public static void main() {
        println("=== Advanced String Concatenation Tests ===");
        
        // Test string + string
        string s1 = "Value: " + "42";
        println("Test 1: Value: 42 (expected)");
        
        // Test string + string
        string s2 = "42" + " is the answer";
        println("Test 2: 42 is the answer (expected)");
        
        // Test string + string
        string s3 = "Pi = " + "3.14159";
        println("Test 3: Pi value concatenated");
        
        // Test multiple concatenations
        string s4 = "A" + "B" + "C" + "D";
        println("Test 4: ABCD (expected)");
        
        // Test concatenation in loop
        string result = "";
        for (int i = 1; i <= 5; ) {
            // Convert int to string manually (using empty string trick)
            string digit;
            if (i == 1) { digit = "1"; }
            else if (i == 2) { digit = "2"; }
            else if (i == 3) { digit = "3"; }
            else if (i == 4) { digit = "4"; }
            else { digit = "5"; }
            result = result + digit;
            if (i < 5) {
                result = result + ",";
            }
            i = i + 1;
        }
        println("Test 5: Concatenation in loop done");
        
        // Test string + string (bool as string)
        string s6 = "Result: " + "true";
        println("Test 6: Result with bool string concatenated");
        
        // Test string + string (char as string)
        string s7 = "Char code: " + "65";
        println("Test 7: Char code: 65 (expected)");
        
        // Test complex expression in concatenation
        int a = 10;
        int b = 20;
        int sum = a + b;
        string sumStr;
        if (sum == 30) { sumStr = "30"; }
        else { sumStr = "unknown"; }
        string s8 = "Sum of " + "10" + " and " + "20" + " is " + sumStr;
        println("Test 8: Sum expression concatenated");
        
        // Test concatenation with array length (convert to string manually)
        int[] arr = {1, 2, 3, 4, 5};
        int len = arr.length;
        string lenStr;
        if (len == 5) { lenStr = "5"; }
        else { lenStr = "unknown"; }
        string s9 = "Array has " + lenStr + " elements";
        println("Test 9: Array length concatenated");
        
        // Test empty string concatenation
        string empty = "";
        string s10 = empty + "Hello" + empty;
        println("Test 10: Hello (expected)");
        
        // Test string with spaces
        string s11 = "  Leading and trailing  ";
        println("Test 11: Spaces preserved");
        
        // Test concatenation of multiple string types
        string s12 = "Int: " + "10" + ", Double: " + "3.14" + ", Bool: " + "true";
        println("Test 12: Multiple types concatenated as strings");
        
        println("=== All advanced string concat tests completed! ===");
    }
}
