# EOL 语言开发路线图 (Roadmap)

## 项目概述
EOL (Ethernos Object Language) 是一个编译为 Windows 可执行文件的静态类型编程语言。本路线图规划了语言核心特性、标准库和工具链的演进方向。

---

## 阶段一：语言核心完善 (v0.2.x)

### 1.1 控制流增强
- [ ] **for 循环** - 支持 `for (int i = 0; i < n; i++)` 语法
- [ ] **foreach 迭代** - 支持 `for (item : array)` 遍历集合
- [ ] **do-while 循环** - 后测试条件循环
- [ ] **switch 语句** - 多分支条件选择（支持 int/char/string）
- [ ] **break/continue 标签** - 嵌套循环控制

### 1.2 数据类型扩展
- [ ] **浮点类型** - `float`, `double` 支持
- [ ] **字符类型** - `char` 类型和字符字面量
- [ ] **布尔类型** - 原生 `bool` 类型（true/false）
- [ ] **long/double** - 64位整数和双精度浮点
- [ ] **类型别名** - `typedef` 或 `using` 定义类型别名

### 1.3 数组与集合
- [ ] **多维数组** - `int[][] matrix` 语法
- [ ] **动态数组** - `ArrayList<T>` 或 `vector<T>`
- [ ] **数组初始化** - `int[] arr = {1, 2, 3}`
- [ ] **数组边界检查** - 运行时安全检查
- [ ] **字符串增强** - 字符串拼接、格式化、子串操作

### 1.4 函数改进
- [ ] **函数重载** - 同名不同参数列表
- [ ] **默认参数** - `void func(int x = 10)`
- [ ] **可变参数** - `void printf(string fmt, ...)`
- [ ] **Lambda 表达式** - 匿名函数支持
- [ ] **函数指针** - 回调函数支持

---

## 阶段二：面向对象特性 (v0.3.x)

### 2.1 类系统完善
- [ ] **继承** - 单继承机制 `class Child : Parent`
- [ ] **多态** - 虚函数和动态绑定
- [ ] **抽象类** - `abstract class` 定义
- [ ] **接口** - `interface` 多实现
- [ ] **访问控制** - `public/protected/private` 完整支持

### 2.2 构造与析构
- [ ] **构造函数重载** - 多构造函数支持
- [ ] **析构函数** - 资源清理
- [ ] **构造链** - `base()` 和 `this()` 调用
- [ ] **静态构造** - 类级别的静态初始化

### 2.3 泛型编程
- [ ] **泛型类** - `class Container<T>`
- [ ] **泛型函数** - `T max<T>(T a, T b)`
- [ ] **泛型约束** - `where T : Comparable`
- [ ] **类型擦除** - 编译时泛型特化

---

## 阶段三：标准库建设 (v0.4.x)

### 3.1 核心库
- [ ] **System 命名空间** - 基础类型和工具
- [ ] **Math 库** - 数学函数（sin/cos/sqrt/pow等）
- [ ] **Random 库** - 随机数生成
- [ ] **DateTime 库** - 日期时间处理
- [ ] **Console 库** - 高级控制台I/O（颜色、光标控制）

### 3.2 集合框架
- [ ] **List<T>** - 动态数组实现
- [ ] **Map<K,V>** - 哈希表/字典
- [ ] **Set<T>** - 集合数据结构
- [ ] **Stack<T>** / **Queue<T>** - 栈和队列
- [ ] **Iterator 接口** - 统一迭代协议

### 3.3 字符串处理
- [ ] **StringBuilder** - 高效字符串构建
- [ ] **正则表达式** - Regex 支持
- [ ] **字符串格式化** - `String.format()` 方法
- [ ] **编码转换** - UTF-8/UTF-16/ASCII 转换

### 3.4 文件与IO
- [ ] **File 类** - 文件操作（读/写/复制/删除）
- [ ] **Directory 类** - 目录操作
- [ ] **Path 类** - 路径处理
- [ ] **Stream 抽象** - 字节流和字符流
- [ ] **Binary IO** - 二进制文件读写

---

## 阶段四：高级特性 (v0.5.x)

### 4.1 异常处理
- [ ] **try-catch-finally** - 结构化异常处理
- [ ] **throw 语句** - 主动抛出异常
- [ ] **异常层次** - Exception 类继承体系
- [ ] **栈追踪** - 错误发生时显示调用栈

### 4.2 内存管理
- [ ] **指针类型** - 原生指针支持 `int* ptr`
- [ ] **引用语义** - `ref` 和 `out` 参数
- [ ] **内存池** - 自定义分配器
- [ ] **RAII 模式** - 资源获取即初始化

### 4.3 并发编程
- [ ] **Thread 类** - 线程创建和管理
- [ ] **锁机制** - `synchronized` 和 `Lock`
- [ ] **原子操作** - `AtomicInt`, `AtomicBool`
- [ ] **线程池** - 任务调度器
- [ ] **async/await** - 异步编程模型

### 4.4 元编程
- [ ] **属性 (Attributes)** - `[Deprecated]`, `[Inline]` 等
- [ ] **反射** - 运行时类型检查
- [ ] **条件编译** - `#ifdef`, `#define` 预处理

---

## 阶段五：工具链与生态 (v0.6.x)

### 5.1 包管理
- [ ] **包管理器 (eolpm)** - 依赖管理工具
- [ ] **模块系统** - `import` / `export` 机制
- [ ] **命名空间** - 避免命名冲突
- [ ] **包仓库** - 中央包注册中心

### 5.2 开发工具
- [ ] **LSP 支持** - 语言服务器协议
- [ ] **VSCode 插件** - 语法高亮、跳转、补全
- [ ] **调试器 (eoldb)** - 源码级调试
- [ ] **格式化工具 (eolfmt)** - 代码自动格式化
- [ ] **代码检查 (eollint)** - 静态分析工具

### 5.3 跨平台支持
- [ ] **Linux 后端** - ELF 可执行文件生成
- [ ] **macOS 支持** - Mach-O 格式
- [ ] **交叉编译** - 从 Windows 编译到 Linux

---

## 阶段六：性能优化 (v0.7.x)

### 6.1 编译器优化
- [ ] **常量折叠** - 编译期表达式求值
- [ ] **死代码消除** - 删除未使用代码
- [ ] **内联展开** - 函数内联优化
- [ ] **逃逸分析** - 栈分配优化
- [ ] **SIMD 自动向量化** - 自动使用 SIMD 指令

### 6.2 运行时优化
- [ ] **GC 可选** - 垃圾回收器（可选启用）
- [ ] **JIT 编译** - 热点代码即时编译
- [ ] **AOT 缓存** - 预编译缓存

---

## 当前版本 (v0.1.x)

### 已完成功能 ✓
- [x] 基础词法分析器和语法分析器
- [x] 语义分析（类型检查）
- [x] LLVM IR 代码生成
- [x] 编译器驱动 (eolc, eolll, ir2exe)
- [x] 基础类型（int, string, void, bool）
- [x] 类和方法定义
- [x] if/else 和 while 语句
- [x] 运算符（算术、比较、逻辑、位运算）
- [x] Windows EXE 输出
- [x] 优化选项（LTO, PGO, SIMD, IR优化）
- [x] 版本号集成

---

## 贡献指南

1. 优先实现阶段一的核心语言特性
2. 每个 PR 应包含测试用例和文档更新
3. 保持向后兼容性
4. 性能回归测试通过后方可合并

## 时间线（预估）

| 阶段 | 版本 | 预计时间 |
|------|------|---------|
| 核心完善 | v0.2.x | 2025 Q1 |
| 面向对象 | v0.3.x | 2025 Q2 |
| 标准库 | v0.4.x | 2025 Q3 |
| 高级特性 | v0.5.x | 2025 Q4 |
| 工具链 | v0.6.x | 2026 Q1 |
| 性能优化 | v0.7.x | 2026 Q2 |

---

**注意：** 本路线图会根据实际开发情况和社区反馈进行调整。
